---
const site = import.meta.env.DEV ? 'http://localhost:4322/' : ''
---

<div x-data="{open: false}">
    <header>
        <nav>
            <span id="menu-mobile">
                <a role="link" href={site}>LOGO</a>
                <a @click="open = !open">
                    <span x-show="!open">☰</span>
                    <span x-cloak x-show="open" x-cloak>✕</span>
                </a>
            </span>
            <div id="menu" :style="{display: open ? 'flex' : 'none'}">
                <slot/>
            </div>
        </nav>
    </header>
    <div id="overlay" x-cloak x-show="open"></div>
</div>

<style lang="scss">
    #overlay {
        background-color: black;
        opacity: 0.2;
        position: fixed;
        z-index: 100;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
    }
    
    header {
        position: fixed;
        width: 100vw;
        z-index: 999;
    }
    
    nav {
        background-color: white;
        border-bottom: 1px solid black;
        padding: 1rem;
        display: flex;
        flex-direction: column;
        justify-content: center;
        
        #menu {
            > a {
                display: none;
            }
            
            ul {
                display: flex;
                flex-direction: column;
                list-style: none;
                gap: 1rem;
                
                > * {
                    padding-block: 1rem;
                }
            }
        }
        
        a {
            color: black;
            text-decoration: none;
        }
        
        > * {
            display: flex;
            justify-content: space-between;
        }
        
    }
    
    @media (min-width: 767px) {
        nav {
            #menu-mobile {
                display: none;
            }
            
            #menu {
                display: flex !important;
            }
        }
    }
    
</style>